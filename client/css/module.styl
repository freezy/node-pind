@import('lib')
@import('nib')
@import('values')


// : navigation list
// ----------------------------------------------------------------------------
.nav.nav-list
	background color-lighter
	border 1px solid #fff
	border-radius 5px
	box-shadow 0 1px 3px rgba(0,0,0,0.5)

	& > li > a
		padding 5px 15px

	& > li:first-child > a
		border-radius-topleft corner-size-small
		border-radius-topright corner-size-small

	& > li:last-child > a
		border-radius-bottomleft corner-size-small
		border-radius-bottomright corner-size-small

	& > .active > a, & .active > a:hover
		background color-dark-noise


	&.sidenav.affix
		top 22px

.nav li a
	transition all animation-fast ease !important

// : navigation bar
// ----------------------------------------------------------------------------
.navbar
	margin-bottom 20px

	.navbar-inner
		background color-lighter
		border-bottom 1px color-darkest
		box-shadow 0px 5px 5px color-darkest, inset 0px -5px 10px -5px white
		border-radius 0

		.icon.pind
			font-size 42px
			float left
			margin-top 2px
			margin-left 20px
			margin-right 15px
			text-shadow 0px 1px 0 white
			color color-darker
			transition all animation-slow ease

			&:hover
				text-decoration none
				color black

		.nav
			font-family font-serif

			font-size 18px
			text-shadow 0px 1px 0 rgba(0,0,0,0.25)
			overflow hidden
			font-weight 300

			li
				line-height 22px
				a
					padding-left 15px
					padding-right 15px
					padding-bottom 6px
					margin-left 10px
					margin-right 10px
					margin-top 10px
					margin-bottom -2px
					background-color rgba(0,0,0,0.15)
					text-shadow 0px 1px 0 rgba(255,255,255,0.5)
					box-shadow 0px 0px 5px 1px rgba(0,0,0,0.08) inset
					border solid 1px rgba(0,0,0,0.15)
					color color-dark
					cursor pointer
					border-radius-topleft corner-size
					border-radius-topright corner-size

					&:hover
						color color-darkest
						text-shadow 0px 1px 0 rgba(255,255,255,0.5)
						background-color rgba(0,0,0,0.30)

				a.icon
					margin-top 14px

			li.active a
				font-weight 700
				text-shadow 0px 1px 0 rgba(0,0,0,0.25)
				background color-btn-light
				border 1px solid color-btn-border
				box-shadow inset 0 0 2px rgba(256,256,256,0.75)
				color #fff

				&:hover
					background-color color-btn-light
					cursor default

			li i.icon-black
				margin-top 1px
				padding 5px 0 0 10px

@media(max-width: 767px)
	.navbar .navbar-inner
		a.icon.pind
			margin-top 10px

		.nav li a
			margin-bottom 10px
			border-radius-bottomleft corner-size
			border-radius-bottomright corner-size

// : pills
// ----------------------------------------------------------------------------

ul.pills
	& > li
		float left
		list-style none
		color black
		background-color rgba(0,0,0,0.07)
		font-size 11.9px
		text-shadow 0px 1px 0 rgba(255,255,255,0.8)
		border solid 1px rgba(0,0,0,0.15)
		border-left none
		border-radius 0
		line-height 22px
		transition all animation-fast ease

		padding 0px 8px

		&:first-child
			border-left solid 1px rgba(0,0,0,0.15)
			border-radius-topleft corner-size
			border-radius-bottomleft corner-size
		&:last-child
			border-radius-topright corner-size
			border-radius-bottomright corner-size
		i
			margin-right 5px
		&.link:hover:not(.disabled)
			background-color rgba(0,0,0,0.15)
		&.link.disabled a
			color color-medium

ul.pills, ul.nav.nav-pills
	& > li div.icon
		text-shadow 0px 1px 0 rgba(255,255,255,0.8)
		background-color rgba(0,0,0,0.15)
		border solid 1px rgba(0,0,0,0.15)
		border-radius-topleft corner-size
		border-radius-bottomleft corner-size
		line-height 22px
		padding 2px 9px


ul.nav.nav-pills, .pagination.pagination-small ul
	& > li
		a
			color black
			background-color rgba(0,0,0,0.07)
			text-shadow 0px 1px 0 rgba(255,255,255,0.8)
			border solid 1px rgba(0,0,0,0.15)
			border-left none
			cursor pointer
			border-radius 0
			line-height 22px
			transition all animation-fast ease
			&:hover
				background-color rgba(0,0,0,0.15)

		&.current a, &.active a
			background-color color-btn-light
			color white
			text-shadow 0px 1px 0 rgba(0,0,0,0.5)
			font-weight 700

		&.current a
			cursor default

		&.disabled a
			color color-medium
			cursor default
			&:hover
				background-color rgba(0,0,0,0.07)

		&.last a i, &.first a i
			font-size 25px
			line-height 10px
			position relative
			top 5px
			margin-left 0

		&:first-child a
			border-left solid 1px rgba(0,0,0,0.15)
			border-radius-topleft corner-size
			border-radius-bottomleft corner-size
		&:last-child a
			border-radius-topright corner-size
			border-radius-bottomright corner-size
	li.spacer + li a
		border-left 5px solid rgba(0,0,0,0.15)

ul.nav.nav-pills
	margin 0px 20px 20px 0px
	& > li a
		padding 2px 10px
		font-size 11.9px
		line-height 22px
		margin 0
.pagination
	margin 0px 0px 20px 20px

.top-pill
	margin-top 0px

// : tabs
// ----------------------------------------------------------------------------

ul.nav.nav-tabs
	border-color color-medium
	li a
		font-family font-serif
		font-size 18px

		background-color rgba(0,0,0,0.15)
		text-shadow 0px 1px 0 rgba(255,255,255,0.5)
		box-shadow 0px 0px 5px 1px rgba(0,0,0,0.08) inset
		border solid 1px rgba(0,0,0,0.15)
		border-bottom none
		color color-dark

		border-radius-topleft corner-size
		border-radius-topright corner-size
		margin-right 15px
		padding-bottom 4px

		&:hover
			color color-darkest
			text-shadow 0px 1px 0 rgba(255,255,255,0.5)
			background-color rgba(0,0,0,0.30)

	li.active a
		font-weight 700
		background color-btn-light
		text-shadow 0px 1px 0 rgba(0,0,0,0.25)
		background color-btn-light
		border 1px solid color-btn-border
		box-shadow inset 0 0 2px rgba(256,256,256,0.75)
		color #fff


// : badge groups
// ----------------------------------------------------------------------------

ul.badge-group
	margin 0

	li
		text-shadow -1px -1px 0 rgba(0,0,0,0.25)
		cursor default
		border-radius 0
		padding 3px 5px
		&:first-child
			padding-left 10px
			border-radius-topleft 10px
			border-radius-bottomleft 10px
		&:last-child
			padding-right 10px
			border-radius-topright 10px
			border-radius-bottomright 10px

@media (max-width: 480px)
	ul.badge-group
		li
			margin 2px
			border-radius 10px
			padding 3px 7px


// :data
// ============================================================================

.nodata, .noresult
	background-color white
	border 2px dashed black
	border-radius corner-size
	padding 30px
	text-align center

	.progress
		margin-top 20px
		margin-bottom 0

.nodata p + .icon
	font-size 42px
	color rgba(0,0,0,0.7)

.span3.disabled, .span4.disabled, h2.disabled
	color color-medium
	text-shadow 1px 1px 0 rgba(255,255,255,0.4)


// :thumbnails
// ============================================================================

.thumbnail
	background-color rgba(255,255,255,0.5)
	padding 0
	& > img
		border-radius-topleft corner-size-small
		border-radius-topright corner-size-small

.thumbnail-padding
	padding 0 15px 15px

.thumbnail-content
	position relative
	overflow hidden
	width 100%

	&.hiscores
		height 340px
	&.game
		height 100px
		display table
		padding-top 30px
	&.leaderboard
		& > h3
			margin-top 10px
			margin-bottom 10px
			text-align center
	&.coindrop
		& > h3
			margin-top 15px
			margin-bottom 15px
			text-align center

	& > .thumbnail-content-centered
			display table
			margin-left auto
			margin-right auto

			& > .fuzzy3d
				margin-right 0

	h3
		font-weight 700
		margin-top 0
		margin-bottom 25px
		line-height 24px

	.slider-top
		padding 30px 15px 0px
		height 250px
		overflow hidden
		overflow-y auto
	.slider-bottom
		padding 15px
		height 250px
		overflow hidden

	.slider
		width 100%
		position absolute
		overflow hidden
		top -286px
		& > .img_wrapper
			& > img
				cursor pointer
				border-radius-topleft corner-size-small
				border-radius-topright corner-size-small
			& > img.bottom
				border-radius-topleft 0px
				border-radius-topright 0px
				border-radius-bottomleft corner-size-small
				border-radius-bottomright corner-size-small


.thumbnails


	&.tables

		li
			text-align center
			padding 0
			height 355px

	&.hiscores
		li
			.thumbnail
				min-height 330px

			ul.ranking
				position relative
				margin-top 15px
				margin-left 10px
				li
					list-style-type none
					margin-top 3px

					.player
						font-weight 900
						font-size 24px
						text-transform uppercase

					.score
						font-size 16px
						float right
						margin-top 2px

					.rank
						font-size 12px
						position absolute
						margin-top 4px
						margin-left -13px
						color color-medium

					.title
						font-size 11px
						text-transform uppercase
						position absolute
						margin-top 18px
						color color-medium

					&.anon
						color rgba(0,0,0,0.3)

				&.champ li
					margin-bottom 25px

// :images (http://www.barrelny.com/blog/taking-control-of-imageloading/)
// ============================================================================
.img_wrapper
	position relative
	overflow hidden
	background-image url('/images/bg_pd_med.png')
	&.banner
		padding-top 18.77862595419847%
		background-image url('/images/default_banner.svg')
		background-size 100%
	&.backglass
		padding-top 80%
		background-image url('/images/default_backglass_43.svg')
		background-size 100%
	& > img
		position absolute
		top 0
		left 0
		width 100%
		opacity 0
		transition opacity 150ms

	&.loaded > img
		opacity 1

// :sources
// ============================================================================

thumbdef(thumbsize, thumbpadding)
	h3
		line-height 24px
		margin-bottom 0
	h4
		font-family font-serif
		font-weight 700
		font-size 16px
		color rgba(0,0,0,0.25)
		text-transform none
		margin-top 0px
	.thumbnail
		min-height thumbsize
		position relative
		.updated
			font-size 11.9px
			margin-right 15px
			color rgba(0,0,0,0.75)
		ul.pills
			position absolute
			bottom 15px
			margin-left thumbsize + 15px

			a:hover
				text-decoration none
			& > li
				cursor default
				&.status-completed
					background-color #106e00
				&.status-started
					animation pulsegreen 0.5s infinite alternate
				&.status-failed
					background-color #bd1600
				&.status-queued
					background-color #be9800

				&.status-queued > a, &.status-completed > a, &.status-started > a, &.status-failed > a, &.status-queued > a
					color color-lighter-rgb
					text-shadow 0px 1px 0 rgba(0,0,0,0.5)

			.icon.link, .icon.download-alt
				font-size 130%

			.icon.link
				position relative
				margin-left 2px
				margin-right 1px
				top 2px
		a:hover
			text-decoration none

		div.author
			float right
			max-width 70px
			text-overflow ellipsis
			overflow hidden

	a.colorbox:hover
		text-decoration none


	.thumb
		width thumbsize
		height thumbsize
		margin-right 15px
		background-position center
		background-size cover
		opacity 0
		transition all animation-slow ease

		border-radius-topleft corner-size-small
		border-radius-bottomleft corner-size-small

		&.loaded
			opacity 1

			& + .thumb-placeholder
				transition all animation-slow ease
				background none
				&:before
					transition all animation-slow ease
					content none


	.thumb-placeholder
		width thumbsize - thumbpadding - thumbpadding
		height thumbsize - thumbpadding - thumbpadding
		margin-top - thumbsize
		background-color rgba(0,0,0,0.2)
		padding thumbpadding
		border-right 4px solid #e09d55
		border-radius-topleft corner-size-small
		border-radius-bottomleft corner-size-small

		font-size thumbsize - thumbpadding - thumbpadding
		font-family 'pind-symbols'
		speak none
		line-height 1
		-webkit-font-smoothing antialiased

		&:before
			content "\e006"
			color rgba(255,255,255,0.5)
			text-shadow none

.item.vpf
	thumbdef(120px, 15px)

.item.vpf.big
	thumbdef(240px, 30px)

.item.vpf h3, .item.vpf h4
	&.diff
		color color-red

/* Large desktop */
@media (min-width: 1200px)
	.item.vpf .thumbnail
		ul.pills
			div.author
				max-width 70px

/* Small desktop */
@media(min-width: 980px) and (max-width: 1199px)
	.item.vpf .thumbnail
		h3
			max-width 250px
			text-overflow ellipsis
			overflow hidden
			white-space nowrap
		h4
			max-width 150px
			text-overflow ellipsis
			overflow hidden
			white-space nowrap
		ul.pills
			div.author
				max-width 45px
			i.icon.circle-arrow-down, i.icon.eye
				margin 0


/* Landscape phone to portrait tablet */
vpf-thumbsize-small = 95px
vpf-padding-small = 10px
@media (max-width: 767px)
	.item.vpf
		.thumbnail
			min-height vpf-thumbsize-small
			ul.pills
				margin-left vpf-thumbsize-small + 15px
				div.author
					max-width 40px
		.thumb
			width vpf-thumbsize-small
			height vpf-thumbsize-small

		.thumb-placeholder
			width vpf-thumbsize-small - vpf-padding-small - vpf-padding-small
			height vpf-thumbsize-small - vpf-padding-small - vpf-padding-small
			margin-top - vpf-thumbsize-small
			padding vpf-padding-small
			font-size vpf-thumbsize-small - vpf-padding-small - vpf-padding-small

/* Landscape phones and down */
vpf-thumbsize-small = 75px
vpf-padding-small = 10px
@media (max-width: 480px)
	.item.vpf
		.thumbnail
			min-height vpf-thumbsize-small
			h3
				font-size 18px
				text-overflow ellipsis
				overflow hidden
				white-space nowrap
			ul.pills
				margin-left vpf-thumbsize-small + 15px
				bottom 10px
				i.icon.circle-arrow-down, i.icon.eye
					margin 0
		.thumb
			width vpf-thumbsize-small
			height vpf-thumbsize-small

		.thumb-placeholder
			width vpf-thumbsize-small - vpf-padding-small - vpf-padding-small
			height vpf-thumbsize-small - vpf-padding-small - vpf-padding-small
			margin-top - vpf-thumbsize-small
			padding vpf-padding-small
			font-size vpf-thumbsize-small - vpf-padding-small - vpf-padding-small


// :coin drop / hiscores
// ============================================================================

.dmd
	background url('/images/bg_dark_wood.png')
	box-shadow 0px 2px 5px 0px rgba(0,0,0,0.3)
	cursor default
	& > span, & > table, & > .inner > span
		background linear-gradient(bottom, 0% #6b4b3b, 75% #7d4e45, 100% #4a3429);
		border-radius corner-size-small
		color #fff187
		cursor default
		font-family font-dmd
		font-size 36px
		text-shadow 0 0 7px #ff2d2d
		box-shadow 0px -3px 10px -2px black
	& + .lbl
		margin-top -20px
		margin-bottom 20px

.dmd
	&.middle
		text-align center
		margin -10px 0 25px 0
		padding 20px 0 12px 0

		& > span
			padding 2px 20px

	&.leaderboard
		padding 10px
		border-radius-bottomleft corner-size-small
		border-radius-bottomright corner-size-small

		& > table
			font-size 22px
			font-family font-console
			text-transform uppercase
			margin 0
			td
				border none
.dmd.leaderboard > table
	td
		padding-top 5px
		padding-bottom 5px
	tr:first-child > td
		padding-top 10px

// :console
// ============================================================================

#console
	padding 0
	margin -1px
	box-shadow 0px -2px 5px 0px rgba(0,0,0,0.3)
	border-radius-bottomleft 4px
	border-radius-bottomright 4px
	border 1px solid black

	.inner
		padding-top 8px
		padding-bottom 8px
		background-color rgba(255,255,255,0.07)
		span
			text-align left
			padding 2px 7px 1px
			border-radius 2px
			font-family font-console
			font-size 22px
			margin 0 8px
			display block
			cursor default

#offlinebar
	position fixed
	bottom 0
	width 100%
	box-shadow: 0 -5px 5px rgba(0,0,0,0.3)
	.inner
		padding 7px
		text-align center
		text-shadow 1px 1px 0 rgba(255,255,255,0.3)
		color rgba(0,0,0,0.75)
		& > span
			margin-left 10px
			text-transform uppercase
			& > em
				font-style normal
				font-weight 800



// :stats
// ============================================================================

div.stats
	position relative
	margin-bottom 20px !important
	margin-top 20px !important
	& > big
		font-size 34px
		font-family font-sans
		font-weight 800
		&.bigger
			font-size 52px
			margin-top 20px
			display block

		& + small
			position absolute
			top 26px
			left 0px

	& > small
		font-size 11px
		text-transform uppercase
		&.top
			top -10px
			left 0px

table.stats
	width 100%
	margin-top 20px
	box-shadow 0 2px 1px rgba(0,0,0,0.1)
	background-color white
	tr td
		text-align center
	tr:first-child td:first-child
		border-radius-topleft corner-size-small
	tr:first-child td:last-child
		border-radius-topright corner-size-small
	tr:last-child td:first-child
		border-radius-bottomleft corner-size-small
	tr:last-child td:last-child
		border-radius-bottomright corner-size-small

	tr.big, tr.bigger
		border-top 2px solid color-btn-light
		td
			padding 10px 15px 15px
			font-size 34px
			font-family font-sans
			font-weight 800
	tr.bigger td
		font-size 42px
		padding 15px 15px 20px

	tr.small
		td
			padding 1px
			font-size 11px
			text-transform uppercase
			background-color rgba(0,0,0,0.18)
			text-shadow 1px 1px 0 rgba(255,255,255,0.5)
			color black
