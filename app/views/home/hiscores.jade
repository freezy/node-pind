extends ../layouts/inner

block content
	- contentFor('javascripts', javascriptIncludeTag('data', 'hiscores'))
	div.span10.offset1.content(ng-controller="HiscoresCtrl")
		section(ng-controller='DataCtrl', resource="Table.GetAll")
			.page-header
				h1 High Scores

			//- control bar
			div.controls(style='display:none')

				//- pager
				pager.pagination.pagination-small.pull-right(page='page', pages='numpages')

				//- number of rows
				numrows.numrows.input-mini.pull-right(selection='[12, 24, 36]', value='limit')

				//- search box
				searchbox(value='search', wait='300')

				//- sort pills
				ul.nav.nav-pills.pull-left.sort(sort, value='sort')
					li
						.icon
							i.icon.sort(title="Sort results by")
					li.current(data-sort="latest")
						a(href="#") Latest
					li(data-sort="downloads")
						a(href="#") By Downloads
					li(data-sort="views")
						a(href="#") By Views
			.clearfix

			//- data
			div.data.ng-cloak(style="display:none")
				ul.thumbnails.hiscores
					li.span4(ng-repeat='table in data', tb-768-980='span6')
						.thumbnail
							img(ng-src='{{table.url_banner_small}}')
							hr
							.thumbnail-content
								h3 {{table.name}}
								ul.ranking.champ
									li(ng-repeat="hiscore in getHiscores(table, 'champ')", class="{{hiscore.class}}")
										span.title Grand Champion
										span.player {{hiscore.player}}
										span.score {{hiscore.score}}
								ul.ranking.hiscore
									li(ng-repeat="hiscore in getHiscores(table, 'hiscore')", class="{{hiscore.class}}")
										span.rank {{hiscore.rank}}
										span.player {{hiscore.player}}
										span.score {{hiscore.score}}
			.clear-fix


block inlineScripts
	script
		$(document).ready(function() {
			menu('hiscores');
		});
